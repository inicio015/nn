document.addEventListener('DOMContentLoaded', function(event) {
    $.extend( $.fn.dataTable.defaults, {
        autoWidth: false,
        dom: '<"datatable-header"fl><"datatable-scroll"t><"datatable-footer"ip>',
        language: {
            search: '<span>Buscar:</span> _INPUT_',
            searchPlaceholder: 'Buscar...',
            lengthMenu: '<span>Mostrar:</span> _MENU_',
            paginate: { 'first': 'First', 'last': 'Last', 'next': $('html').attr('dir') == 'rtl' ? '&larr;' : '&rarr;', 'previous': $('html').attr('dir') == 'rtl' ? '&rarr;' : '&larr;' }
        }
    });
    var table = $('.datatable').DataTable({
        "processing": true,
        "serverSide": true,
        "serverMethod": 'post',
        "ajax":{'url':url, 
                'beforeSend': function (request) {
                    
                 },
                "data":function (d) {
                    d._token = $('meta[name="csrf-token"]').attr('content');
                },
                "dataSrc": function ( json ) {
                    //$('table.datatable').unblock();
                    return json.data;
                }  
                
        } ,
        "columns": columns,
        'createdRow': function( row, data, dataIndex ) {
            $(row).attr( 'id','codenv'+data.id_banner );
          },
           "language": {
            "info": "Pagina _PAGE_ de _PAGES_",
        },
    });
});
